<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link
  href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
  rel="stylesheet"
  type="text/css"
/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<br>
<br>
<br>
<div class = "container">
<div class = "col-s-8 offset-md-4">

  <h1 style="font-family: 'Montserrat', sans-serif;font-size: 50px; line-height: 1.8;">
    &nbsp;
    
    <strong><i>FunYums!</i></strong>
  </h1>
  <input #search_bar type ="text" (keyup.enter)="getRecipes(search_bar.value)" value="{{initSearch}}">
  <button (click)="getRecipes(search_bar.value)">Search!</button>
  <br>
  <input #use_my_ing type="checkbox" (click)="onlyMyIng = use_my_ing.checked">
  <label>Do not show recipes that require ingredients I don't have</label>
  <br>
  <p style="color: cornflowerblue" *ngIf="!showAdvance" (click)="showAdvance = true">Show more filters</p> <!--todo cursor should change on hover-->
  <div *ngIf="showAdvance">
    <p style="color: cornflowerblue" (click)="showAdvance= false">Back to basics</p> <!--todo a function to reset filters here--> <!--todo cursor should change on hover-->
    <label>Do not show me recipes with: </label>
    <input #excluded_ing type="text" (keyup.enter)="addIng(excluded_ing.value)">
    <button (click)="addIng(excluded_ing.value)">Add</button>
    <br>
    <label>Only show recipes that accommodate an allergy to: </label>
    <input #allergies_inp type="text" (keyup.enter)="addAllergy(allergies_inp.value)">
    <button (click)="addAllergy(allergies_inp.value)">Add</button>
    <br>
    <label>Only show recipes that accommodate to these diets: </label>
    <input #diets_inp type="text" (keyup.enter)="addDiet(diets_inp.value)">
    <button (click)="addDiet(diets_inp.value)">Add</button>
    <br>
    <div *ngIf="ings2excludeExist">
      <label>Ingredients to exclude: </label>
      <button *ngFor="let ing of ings2exclude" (click)="removeIng(ing)">
        {{ing}}
      </button>
    </div>
    <div *ngIf="allergiesExist">
      <label>Allergies to consider: </label>
      <button *ngFor="let alg of allergies" (click)="removeAllergy(alg)">
        {{alg}}
      </button>
    </div>
    <div *ngIf="dietsExist">
      <label>Ingredients to exclude: </label>
      <button *ngFor="let diet of diets" (click)="removeDiet(diet)">
        {{diet}}
      </button>
    </div>
  </div>


<!--
More search options:
- checkbox: only show recipes that can be made with present ingredients (requires database)
- Exclude include cuisines (probably check boxes)
- Exclude foods by allegic values
- Range of time needed to make dish
- rating
- sort by rating? don't know how to do this
- clear search criteria
-->
<br>
<div *ngIf="recipesShow">
  <div *ngFor="let recipe of recipes">
    <span><a routerLink="/recipe/{{recipe.id}}" (click)="saveLocalState()">{{recipe.recipeName}}</a></span>
  </div>
</div>
</div>
</div>
